<?php

use Illuminate\Database\Seeder;

class NewsTableSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        $x=0;
        $arrayRec = array();
        $slug = str_slug('Тестовая новость -');
        while ($x<100) {
            $x++;
            array_push($arrayRec,[
                'user_id' => 1,
                'category_id' => rand(1,4),
                'published' => 1,
                'title' => 'Тестовая новость ' . $x,
                'slug' => $slug . $x,
                'content' => '<p>'.
                    'контент контент контент контент контент контент контент контент контент контент контент контент контент контент контент'.
                    'контент контент контент контент контент контент контент контент контент контент контент контент контент контент контент'.
                    'контент контент контент контент контент контент контент контент контент контент контент контент контент контент контент'.
                    'контент контент контент контент контент контент контент контент контент контент контент контент контент контент контент'.
                    'контент контент контент контент контент контент контент контент контент контент контент контент контент контент контент'.
                    'контент контент контент контент контент контент контент контент контент контент контент контент контент контент контент'.
                    'контент контент контент контент контент контент контент контент контент контент контент контент контент контент контент'.
                    'контент контент контент контент контент контент контент контент контент контент контент контент контент контент контент'.
                    '</p>',
                'image' => '1527680191.jpg',
                'created_at' => '2018-05-18 20:54:29',
                'updated_at' => '2018-05-18 20:54:29',
            ]);
            if($x%100==0){
                print 'записано '.$x.'записей ';
                system('clear');

                DB::table('news')->insert($arrayRec);
                $arrayRec = array();
            }
        }
    }
}
